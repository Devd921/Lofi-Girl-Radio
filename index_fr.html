<!DOCTYPE html>
<html lang="fr-FR">
<head>

<title>Lofi Girl Radio</title><link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">

<meta name="author" content="Devd921">
<meta name="description" content="Lofi Girl Radio permet d'Ã©couter les diffÃ©rents directs de Lofi Girl sans passer par YouTube, enlevant ainsi toute distraction.">

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<style>

body {
    background-color: #141321;
    font-family: Arial, sans-serif;
    color: white;
    font-size: 15px;
    text-align: center;
    margin: 0;
    padding: 0;
}

body.light-mode {
    background-color: #eeefdf;
    color: black;
}

/* -- header -- */

header {
    text-align: center;
    padding: 1em 0;
}

.logo {
    width: 100px;
    height: auto;
}

/* -- bouton confort visuel -- */

.mode-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 20px;
}

.mode-button {
    background: linear-gradient(45deg, #3FA34D, #1E5631, #A3D9A5);
}

/* -- curseur des cycles -- */

.label-container {
    margin-bottom: 20px;
    text-align: center;
}

#cycleslider {
    -webkit-appearance: none;
    width: 350px;
    height: 6px;
    background: #666;
    border-radius: 3px;
    outline: none;
    opacity: 0.9;
    transition: opacity 0.2s;
    margin-bottom: 25px;
}

#cycleslider:hover {
    opacity: 1;
}

#cycleslider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 20px;
    height: 20px;
    background: #007BFF;
    border-radius: 50%;
    cursor: pointer;
    transition: 0.3s;
}

#cycleslider::-webkit-slider-thumb:hover {
    transform: scale(1.2);
}

/* -- bouton pomodoro -- */

.pomodoro-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 20px;
}

.pomodoro-button {
    background: linear-gradient(45deg, #6A8DFF, #4C66F3, #304B99);
}

/* -- bouton minuteur -- */

.duration-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 20px;
}

.duration-button {
/* width: 20%; */
    background: linear-gradient(45deg, #6A8DFF, #4C66F3, #304B99);
}

/* -- bouton vidÃ©o -- */

.video-buttons {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 20px;
    align-items: center;
}

.video-button {
    width: 100%;
    max-width: 450px;
    background: linear-gradient(45deg, #D56BDA, #F78F66, #FFC8A2);
}

/* -- bouton -- */

.duration-button, .video-button , .mode-button, .pomodoro-button {
    padding: 12px 18px;
    font-size: 18px;
    font-weight: bold;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: 0.3s;
}

.duration-button:hover, .video-button:hover, .mode-button:hover, .pomodoro-button:hover {
    transform: scale(1.1);
    opacity: 0.9;
}

/* -- vidÃ©o -- */

.video-container {
    position: relative;
    width: 80%;
    padding-bottom: 45%;
    height: 0;
    margin: 0 auto;
}

.video-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

#videoframe {
    width: 100%;
    height: 100%;
    border: 4px solid #F78F66;
    border-radius: 15px;
    margin-bottom: 20px;
}

/* -- sÃ©paration -- */

.center-separator {
    background: linear-gradient(45deg, #D56BDA, #F78F66, #FFC8A2);
    width: 100%;
    max-width: 450px;
    height: 4px;
    border-radius: 10px;
    margin: auto;
}

/* -- minuteur -- */

#timerdisplay, #pomodorodisplay {
    font-size: 22px;
    font-weight: bold;
    margin-top: 20px;
}

 /* -- footer -- */

footer {
    background: linear-gradient(45deg, #D56BDA, #F78F66, #FFC8A2);
    color: white;
    text-align: center;
    padding: 20px;
    position: relative;
    bottom: -40px;
    width: 100%;
    box-sizing: border-box;
}

footer p {
    display: block;
    width: fit-content;
    margin: auto;
}

footer a {
    color: white;
    font-weight: bold;
    text-decoration: none;
}

footer a:hover {
    text-decoration: underline;
}

</style>

<body>

<!-- logo, par dÃ©faut en mode sombre -->
<header><img id="logo" src="assets/images/logo-dark.png" alt="Logo" class="logo"></header>

<div class="center-separator"></div>

<!-- mode sombre ou clair, par dÃ©faut en mode sombre -->
<h2>Choisissez du mode de couleur</h2>

<div class="mode-buttons">
    <button id="togglemode" class="mode-button">ğŸŒ™ Mode sombre</button>
</div>

<div class="center-separator"></div>

<!-- curseur du nombre de cycles Ã  choisir -->
<h2>Choisissez les cycles du Pomodoro</h2>

<p>Un son unique est  jouÃ© quand il y a un cycle, une pause et fin.</p>
<p>Cycle de 25 min avec une pause de 5 min.</p>

<div class="label-container">
    <label id="cyclelabel" for="cycleslider">SÃ©lectionner le nombre de cycles : 5</label>
</div>
<input type="range" id="cycleslider" min="3" max="6" value="5" oninput="updateSliderValue(this.value)">

<!-- bouton du Pomodoro -->
<div class="pomodoro-buttons">
    <button class="pomodoro-button" onclick="startPomodoro()">DÃ©marrer Pomodoro</button>
    <button class="pomodoro-button" onclick="stopPomodoro()">ArrÃªter Pomodoro</button>
</div>

<!-- affiche le temps passÃ© en Pomodoro -->
<div id="pomodorodisplay">Cycle : -- | Temps restant : --:--<h2></h2></div>
<h2></h2>

<div class="center-separator"></div>

<!-- bouton pour sÃ©lectionner un minuteur au choix -->
<h2>Choisissez la durÃ©e du minuteur</h2>

<p>Par dÃ©faut, le minuteur est de 180 min quand une vidÃ©o est jouÃ©e.</p>
<p>La vidÃ©o est coupÃ©e automatiquement, pas le pomodoro.</p>

<div class="duration-buttons">
    <button class="duration-button" onclick="setTimer(1800000)">30 min</button>
    <button class="duration-button" onclick="setTimer(3600000)">60 min</button>
    <button class="duration-button" onclick="setTimer(5400000)">90 min</button>
</div>

<div class="duration-buttons">
    <button class="duration-button" onclick="setTimer(7200000)">120 min</button>
    <button class="duration-button" onclick="setTimer(9000000)">150 min</button>
    <button class="duration-button" onclick="setTimer(10800000)">180 min</button>
</div>

<div class="center-separator"></div>

<!-- bouton pour sÃ©lectionner une video au choix -->
<h2>ğŸ“š Pour Ã©tudier et travailler ğŸ“š</h2>

<div class="video-buttons">
    <button class="video-button" onclick="startVideo('jfKfPfyJRdk')">Beats to relax / study ğŸ“š (lofi hip hop)</button>
    <button class="video-button" onclick="startVideo('Na0w3Mz46GA')">Beats to relax / study â›©ï¸ (asian lofi)</button>
    <button class="video-button" onclick="startVideo('TtkFsfOP9QI')">Beats to focus / study ğŸ¹ (peaceful piano)</button>
    <button class="video-button" onclick="startVideo('HuFYqnbVbzY')">Beats to jazz chill / study ğŸ· (jazz lofi)</button>
    <button class="video-button" onclick="startVideo('IxPANmjPaek')">Beats to scribe manuscripts ğŸ° (medieval lofi)</button>
    <button class="video-button" onclick="startVideo('1oDrJba2PSs')">Beats to study with me ğŸ“š Pomodoro</button>
</div>

<h2>ğŸ’¤ Pour la dÃ©tente et le sommeil ğŸ’¤</h2>

<div class="video-buttons">
    <button class="video-button" onclick="startVideo('28KRPhVzCus')">Beats to sleep / chill ğŸ’¤ (lofi hip hop)</button>
    <button class="video-button" onclick="startVideo('S_MOd40zlYU')">Beats to escape / dream ğŸŒƒ (dark ambient)</button>
</div>

<h2>ğŸŒŒ Pour les jeux ğŸŒŒ</h2>

<div class="video-buttons">
    <button class="video-button" onclick="startVideo('4xDzrJKXOOY')">Beats to chill / game ğŸŒŒ (synthwave)</button>
</div>

<h2>ğŸ§ Pour la mÃ©ditation ğŸ§</h2>

<div class="video-buttons">
    <button class="video-button" onclick="startVideo('xORCbIptqcc')">Music to fall asleep ğŸ’¤ (sleep ambient)</button>
    <button class="video-button" onclick="startVideo('-OekvEFm1lo')">Gentle rain sounds ğŸŒ§ï¸</button>
    <button class="video-button" onclick="startVideo('P6Segk8cr-c')">Beats for rainy days â˜” (sad lofi)</button>
</div>

<div class="center-separator"></div>

<!-- affiche le minuteur sÃ©lectionnÃ©e -->
<div id="timerdisplay">Minuteur : --:--<h2></h2></div>
<h2></h2>

<!-- affiche la vidÃ©o sÃ©lectionnÃ©e -->
<div class="video-container"><iframe id="videoframe" allowfullscreen></iframe></div>

<script>

// Les sessions Pomodoro

let pomoCountdown;
let pomoTimeRemaining;
let pomoCycle = 5; // Nombre de cycles par dÃ©faut
const workDuration = 25 * 60; // DurÃ©e d'une session de travail en secondes (25 minutes)
const breakDuration = 5 * 60; // DurÃ©e d'une pause en secondes (5 minutes)

// Met Ã  jour l'affichage du nombre de cycles du Pomodoro
function updateSliderValue(value) {
    document.getElementById("cyclelabel").innerText = "SÃ©lectionner le nombre de cycles : " + value;
}

// DÃ©marre une session Pomodoro complÃ¨te

function startPomodoro() {
    clearInterval(pomoCountdown); // ArrÃªte une session en cours, s'il y en a
    pomoCycle = 1; // Reset du cycle actuel
    
    let selectedCycles = parseInt(document.getElementById("cycleslider").value); // RÃ©cupÃ¨re le choix de l'utilisateur
    maxCycles = selectedCycles; // DÃ©finit le nombre max de cycles
    
    startWorkSession(); // DÃ©marre la premiÃ¨re session de travail
}

// DÃ©marre une session de travail

function startWorkSession() {
    pomoTimeRemaining = workDuration; // Initialisation du temps restant
    updatePomodoroDisplay("Travail", pomoTimeRemaining); // Mise Ã  jour de l'affichage
    playSound("start"); // Joue un son au dÃ©but du travail

    // DÃ©compte du temps pour le travail
    pomoCountdown = setInterval(() => {
        pomoTimeRemaining--;
        updatePomodoroDisplay("Travail", pomoTimeRemaining);

        if (pomoTimeRemaining <= 0) {
            clearInterval(pomoCountdown); // ArrÃªte le dÃ©compte
            startBreakSession(); // DÃ©marre la pause
        }
    }, 1000);
}

// DÃ©marre une pause aprÃ¨s une session de travail

function startBreakSession() {
    pomoTimeRemaining = breakDuration; // Initialisation du temps de pause
    updatePomodoroDisplay("Pause", pomoTimeRemaining); // Mise Ã  jour de l'affichage
    playSound("break"); // Joue un son pour signaler le dÃ©but de la pause

    // DÃ©compte du temps pour la pause
    pomoCountdown = setInterval(() => {
        pomoTimeRemaining--;
        updatePomodoroDisplay("Pause", pomoTimeRemaining);

        if (pomoTimeRemaining <= 0) {
            clearInterval(pomoCountdown);

            if (pomoCycle < maxCycles) { // VÃ©rifie si d'autres cycles doivent Ãªtre exÃ©cutÃ©s
                pomoCycle++;
                startWorkSession(); // Recommence une session de travail
            } else {
                playSound("end"); // Joue un son indiquant la fin du Pomodoro
                afficherResultatFinal(); // Affiche le rÃ©sultat final
            }
        }
    }, 1000);
}

// Actualisation du Pomodoro

function updatePomodoroDisplay(status, seconds) {
    let minutes = Math.floor(seconds / 60);
    let secondsLeft = seconds % 60;
    document.getElementById('pomodorodisplay').innerText = `Cycle ${pomoCycle} | ${status} : ${minutes}:${secondsLeft < 10 ? '0' : ''}${secondsLeft}`;
}

// Affiche le rÃ©capitulatif une fois le Pomodoro terminÃ©

function afficherResultatFinal() {
    let cyclesCompletes = maxCycles; // Affiche le nombre exact de cycles complÃ©tÃ©s

    let tempsTravail = cyclesCompletes * workDuration;
    let tempsPause = cyclesCompletes * breakDuration;
    let tempsTotal = tempsTravail + tempsPause;

    let minutesTravail = Math.floor(tempsTravail / 60);
    let minutesPause = Math.floor(tempsPause / 60);
    let minutesTotal = Math.floor(tempsTotal / 60);

    document.getElementById('pomodorodisplay').innerText = 
        `Pomodoro terminÃ© | Cycles complÃ©tÃ©s : ${cyclesCompletes}

        Travail : ${minutesTravail} min | Pause : ${minutesPause} min | Total : ${minutesTotal} min`;

    console.log(`Pomodoro terminÃ© aprÃ¨s ${cyclesCompletes} cycles | Travail : ${minutesTravail} min | Pause : ${minutesPause} min | Total : ${minutesTotal} min`);
}

// ArrÃªte une session Pomodoro en cours

function stopPomodoro() {
    clearInterval(pomoCountdown); // Stoppe le dÃ©compte en cours
    
    let cyclesCompletes = (pomoCycle > maxCycles) ? maxCycles : pomoCycle - 1;

    let tempsTravail = cyclesCompletes * workDuration;
    let tempsPause = cyclesCompletes * breakDuration;
    let tempsTotal = tempsTravail + tempsPause;

    let minutesTravail = Math.floor(tempsTravail / 60);
    let minutesPause = Math.floor(tempsPause / 60);
    let minutesTotal = Math.floor(tempsTotal / 60);

    updatePomodoroDisplay("ArrÃªtÃ©", 0); // Met Ã  jour l'affichage
    document.getElementById('pomodorodisplay').innerText = 
        `Pomodoro arrÃªtÃ© | Cycles complÃ©tÃ©s : ${cyclesCompletes}

        Travail : ${minutesTravail} min | Pause : ${minutesPause} min | Total : ${minutesTotal} min`;

    console.log(`Pomodoro arrÃªtÃ© aprÃ¨s ${cyclesCompletes} cycles | Travail : ${minutesTravail} min | Pause : ${minutesPause} min | Total : ${minutesTotal} min`);
}

// Joue un son Ã  chaque Ã©tape du Pomodoro

function playSound(type) {
    let audio = new Audio();
    if (type === "start") {
        audio.src = "assets/sounds/start.mp3"; // Son au dÃ©but d'une session de travail
    } else if (type === "break") {
        audio.src = "assets/sounds/break.mp3"; // Son au dÃ©but de la pause
    } else if (type === "end") {
        audio.src = "assets/sounds/end.mp3"; // Son Ã  la fin du Pomodoro
    }
    audio.play();
}

// Fonction permettant de basculer entre mode clair et mode sombre

document.getElementById("togglemode").addEventListener("click", function () {
    document.body.classList.toggle("light-mode");

    var logo = document.getElementById("logo");
    var button = document.getElementById("togglemode");

    if (document.body.classList.contains("light-mode")) {
        logo.src = "assets/images/logo-light.png"; // Change le logo pour le mode clair
        button.textContent = "ğŸŒ Mode clair"; // Texte du bouton mode clair
    } else {
        logo.src = "assets/images/logo-dark.png"; // Remet le logo sombre
        button.textContent = "ğŸŒ™ Mode sombre"; // Texte du bouton mode sombre
    }
});

// Minuteur et gestion des vidÃ©os
    
let countdown;
let selectedDuration = 10800000; // Valeur par dÃ©faut ("180" min)

function setTimer(duration) {
    selectedDuration = duration;
}

function startVideo(videoId) {
    var videoFrame = document.getElementById('videoframe');

    // Charger la vidÃ©o immÃ©diatement
    videoFrame.src = 'https://www.youtube.com/embed/' + videoId + '?vq=hd720&enablejsapi=1&rel=0&autoplay=1';

    // DÃ©marrer automatiquement le minuteur
    startTimer(selectedDuration);
}

// DÃ©marre le minuteur et arrÃªte la vidÃ©o une fois terminÃ©

function startTimer(duration) {
    clearInterval(countdown); // RÃ©initialise tout minuteur prÃ©cÃ©dent

    let timeRemaining = duration / 1000;
    updateTimerDisplay(timeRemaining);

    countdown = setInterval(() => {
        timeRemaining--;
        updateTimerDisplay(timeRemaining);

        if (timeRemaining <= 0) {
            clearInterval(countdown);
            document.getElementById('videoframe').src = ''; // ArrÃªte la vidÃ©o
        }
    }, 1000);
}

// Met Ã  jour l'affichage du minuteur

function updateTimerDisplay(seconds) {
    let minutes = Math.floor(seconds / 60);
    let secondsLeft = seconds % 60;
    document.getElementById('timerdisplay').innerText = `Minuteur : ${minutes}:${secondsLeft < 10 ? '0' : ''}${secondsLeft}`;
}

</script>

<footer>

<p>Lofi Girl Radio est un site non-officiel de Lofi Girl.</p>
<p>Source du projet github <a href="https://github.com/Devd921/Lofi-Girl-Radio" target="_blank">ici</a></p>
<h2></h2>
<p>Site web officiel de <a href="https://lofigirl.com/" target="_blank">Lofi Girl</a> | <a href="https://www.youtube.com/@LofiGirl" target="_blank">Youtube</a></p>

</footer>

</body>
</html>